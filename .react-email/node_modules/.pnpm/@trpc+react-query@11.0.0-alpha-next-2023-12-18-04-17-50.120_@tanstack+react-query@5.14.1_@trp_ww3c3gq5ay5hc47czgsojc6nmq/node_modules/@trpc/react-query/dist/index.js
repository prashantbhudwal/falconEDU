'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var client = require('@trpc/client');
var utilsProxy = require('./utilsProxy-27bd93c1.js');
var shared = require('@trpc/server/shared');
var React = require('react');
var createHooksInternal$1 = require('./createHooksInternal-7054a83d.js');
require('@tanstack/react-query');

/**
 * @internal
 */ function createHooksInternal(trpc) {
    return shared.createFlatProxy((key)=>{
        if (key === 'useContext' || key === 'useUtils') {
            return ()=>{
                const context = trpc.useUtils();
                // create a stable reference of the utils context
                return React.useMemo(()=>{
                    return utilsProxy.createReactQueryUtils(context);
                }, [
                    context
                ]);
            };
        }
        if (trpc.hasOwnProperty(key)) {
            return trpc[key];
        }
        return createHooksInternal$1.createReactDecoration(key, trpc);
    });
}
function createTRPCReact(opts) {
    const hooks = createHooksInternal$1.createRootHooks(opts);
    const proxy = createHooksInternal(hooks);
    return proxy;
}

exports.getQueryKey = utilsProxy.getQueryKey;
exports.createTRPCReact = createTRPCReact;
Object.keys(client).forEach(function (k) {
  if (k !== 'default' && !exports.hasOwnProperty(k)) Object.defineProperty(exports, k, {
    enumerable: true,
    get: function () { return client[k]; }
  });
});
